(self.webpackChunkquizz=self.webpackChunkquizz||[]).push([[595],{7595:(e,t,i)=>{"use strict";i.r(t),i.d(t,{SetupModule:()=>U});var s=i(8583),n=i(5806),o=i(639),a=i(1239);let r=(()=>{class e{constructor(e,t){this.gameParams=e,this.router=t}canActivate(e,t){const{routeConfig:i}=e.data,{url:s}=t,n=s.split("/")[2],o=this.gameParams.gameParamsValidation();let a="";return i.forEach((e,t)=>{e===n&&(a=i[t-1])}),a&&o.hasOwnProperty(a)&&this.router.navigate([`/setup/${a}`]),!0}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(a.t),o.LFG(n.F0))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),l=(()=>{class e{constructor(e,t){this.router=e,this.gameParams=t,this.displayStartButton=!1,this.disableButtons=[!1,!1],this.disableDots=[],this.childIndex=0,this.routeConfig=[]}setRouteConfig(e){this.routeConfig=e}setChildIndex(e){this.childIndex=e}setDisableDots(){const e=this.gameParams.gameParamsValidation();let t=99;Object.keys(e).forEach((e,i)=>{const s=this.routeConfig.findIndex(t=>t.path===e);s<t&&(t=s)});for(let i=0;i<this.routeConfig.length;i++)this.disableDots[i]=i>t&&!0}setDots(){this.disableDots=[];for(let e=0;e<this.routeConfig.length;e++)this.disableDots=[...this.disableDots,0!==e];this.setDisableDots()}setDisableButtons(e){this.disableButtons=e}setIndexInChildren(){const e=this.router.url.split("/")[2];this.routeConfig.forEach((t,i)=>{t.path===e&&(this.childIndex=i)}),this.displayPathButton()}displayPathButton(){const e=0===this.childIndex,t=this.childIndex===this.routeConfig.length-1;if(e&&this.setDisableButtons([!0,!1]),t)return this.setDisableButtons([!1,!0]),void(this.displayStartButton=!0);e||t||this.setDisableButtons([!1,!1]),this.displayStartButton=!1}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(n.F0),o.LFG(a.t))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var c=i(1320),h=i(5965),d=i(2481);let u=(()=>{class e{constructor(e,t,i){this.setupServ=e,this.gameParams=t,this.alert=i,this.difficulty=["facile","normal"],this.diffChoice="",this.needConfirmation=!1}ngOnInit(){this.setupServ.setIndexInChildren(),this.diffChoice=this.gameParams.selectedDifficultyString}onChange(e){this.needConfirmation=e!==this.gameParams.selectedDifficultyString}setDifficulty(){this.needConfirmation=!1,this.gameParams.setDifficulty(this.diffChoice),this.alert.message=`Difficult\xe9 selectionn\xe9 : ${this.diffChoice}`,this.alert.switchAlert()}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(l),o.Y36(a.t),o.Y36(c.c))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-difficulty"]],decls:6,vars:6,consts:[[1,"difficulty"],[1,"difficulty_inputsDiff"],[3,"values","choice","width","choiceChange"],[3,"label","confirmation","disabled","mousedown"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"h2"),o._uU(2,"Difficult\xe9"),o.qZA(),o.TgZ(3,"div",1),o.TgZ(4,"reg-select",2),o.NdJ("choiceChange",function(e){return t.diffChoice=e})("choiceChange",function(e){return t.onChange(e)}),o.qZA(),o.TgZ(5,"reg-button",3),o.NdJ("mousedown",function(){return t.setDifficulty()}),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(4),o.Q6J("values",t.difficulty)("choice",t.diffChoice)("width",200),o.xp6(1),o.Q6J("label","Selectionner")("confirmation",t.needConfirmation)("disabled",!t.diffChoice))},directives:[h.X,d.m],styles:["[_ngcontent-%COMP%]:root{--game-size:400px}@media screen and (max-width: 800px){[_ngcontent-%COMP%]:root{--game-size:100%}}.difficulty[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.difficulty_inputsDiff[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:center;align-items:center}.difficulty_inputsDiff[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:10px}"]}),e})();function p(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"reg-button",3),o.NdJ("click",function(){const t=o.CHM(e).$implicit;return o.oxw().selectNumberOfPlayer(t)}),o.qZA()}if(2&e){const e=t.$implicit,i=t.index,s=o.oxw();o.Q6J("selected",s.usersChoice[i])("label",e.toString())("fontSize",20)("height",100)("width",100)}}let m=(()=>{class e{constructor(e,t){this.gameParams=e,this.setupServ=t,this.numberChoice=[1,2],this.usersChoice=[!1,!1]}ngOnInit(){this.setPlayerNumber(this.gameParams.numberOfPlayer),this.setupServ.setIndexInChildren()}setPlayerNumber(e){this.usersChoice.forEach((t,i)=>{this.usersChoice[i]=i===e-1})}selectNumberOfPlayer(e){this.gameParams.setNumberOfPlayers(e),this.setPlayerNumber(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(a.t),o.Y36(l))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-number-of-players"]],decls:5,vars:1,consts:[[1,"numberOfPlayers"],[1,"numberOfPlayers_buttons"],[3,"selected","label","fontSize","height","width","click",4,"ngFor","ngForOf"],[3,"selected","label","fontSize","height","width","click"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"h2"),o._uU(2,"Nombre de joueurs"),o.qZA(),o.TgZ(3,"div",1),o.YNc(4,p,1,5,"reg-button",2),o.qZA(),o.qZA()),2&e&&(o.xp6(4),o.Q6J("ngForOf",t.numberChoice))},directives:[s.sg,d.m],styles:["[_ngcontent-%COMP%]:root{--game-size:400px}@media screen and (max-width: 800px){[_ngcontent-%COMP%]:root{--game-size:100%}}.numberOfPlayers[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.numberOfPlayers_buttons[_ngcontent-%COMP%]{display:flex}.numberOfPlayers_buttons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .numberOfPlayers[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:10px}"]}),e})();var g=i(6215),f=i(665),b=i(1860),x=i(7764),y=i(9573),v=i(568);const C=function(){return["/user/login"]};function P(e,t){1&e&&(o.TgZ(0,"div",10),o.TgZ(1,"reg-button",11),o._UZ(2,"i",12),o.qZA(),o.qZA()),2&e&&(o.xp6(1),o.Q6J("routerLink",o.DdM(1,C)))}function _(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",4),o.TgZ(1,"h2"),o._uU(2),o.qZA(),o.TgZ(3,"div",5),o._UZ(4,"reg-spinner",6),o._UZ(5,"reg-input",7),o.TgZ(6,"reg-button",8),o.NdJ("click",function(){const t=o.CHM(e).index;return o.oxw().onSubmit(t)}),o.qZA(),o.YNc(7,P,3,2,"div",9),o.qZA(),o.qZA()}if(2&e){const e=t.index,i=o.oxw();o.xp6(2),o.hij("Choisis ton pseudo Joueur ",e+1,""),o.xp6(2),o.Q6J("size",20)("isDisplayed",i.isLoading),o.xp6(1),o.Q6J("parentForm",i.userForm)("parentControlName",e)("width",200)("validate",i.formValidation[e].isMinlength)("solo",!1),o.xp6(1),o.Q6J("id",e)("disabled",!i.formValidation[e].isMinlength)("label",i.formValidation[e].isSubmited?"Modifier":"Valider")("solo",!1)("confirmation",i.btnValidation),o.xp6(1),o.Q6J("ngIf",0===e&&!i.isAuth)}}let O=(()=>{class e{constructor(e,t,i,s,n,o,a){this.document=e,this.fb=t,this.gameParams=i,this.setupServ=s,this.alert=n,this.auth=o,this.request=a,this.maxNumberOfPlayer=1,this.userForm=this.fb.group({aliases:this.fb.array([this.fb.control("")])}),this.formValidation=[{isMinlength:!1,isSubmited:!1}],this.validate$=new g.X(this.formValidation),this.validationSubscription=this.validate$.subscribe(),this.btnValidation=!0,this.isAuth=!1,this.isLoading=!1}ngOnInit(){this.maxNumberOfPlayer=this.gameParams.numberOfPlayer,this.setupServ.setIndexInChildren(),this.setRegisteredPlayers(),this.useEffectForValidation(),this.validate$.next(this.formValidation),this.inputHandler(),this.getUserInfo()}ngOnDestroy(){this.validationSubscription.unsubscribe()}getUserInfo(){this.auth.isAuth$.subscribe(e=>{this.isAuth=e,e&&(this.isLoading=!0,this.request.get("users/info").subscribe(e=>{this.isLoading=!1,this.aliases.patchValue([e.username])}))})}useEffectForValidation(){this.validationSubscription=this.validate$.subscribe({next:e=>{this.formValidationVerification(e)?(this.setupServ.displayPathButton(),this.setupServ.setDisableDots()):(this.setupServ.setDisableButtons([!1,!0]),this.setupServ.setDisableDots())}})}inputHandler(){this.userForm.valueChanges.subscribe({next:e=>{const{aliases:t}=e;t.forEach((e,t)=>{this.formValidation[t].isMinlength=e.length>2&&!0}),this.validate$.next(this.formValidation),this.btnValidation=!0}})}onSubmit(e){this.formValidation[e].isSubmited?this.modifyUserName(e):this.sendUserName()}modifyUserName(e){this.gameParams.modifyUserName(e,this.aliases.value[e]),this.addPlayerInput();const t="string"==typeof e&&parseInt(e)+1;this.alert.message=`Le nom du joueur ${t} a bien ete modifie en ${this.aliases.value[e]} `,this.alert.switchAlert(),this.btnValidation=!1}sendUserName(){const e=this.aliases.value.length-1;this.formValidation.length<=this.maxNumberOfPlayer&&(this.formValidation[e].isSubmited=!0,this.gameParams.postPlayerName(this.aliases.value[e]),this.btnValidation=!1),this.addPlayerInput()}addPlayerInput(){this.aliases.length<this.maxNumberOfPlayer&&(this.formValidation.push({isMinlength:!1,isSubmited:!1}),this.aliases.push(this.fb.control(""))),this.validate$.next(this.formValidation)}setRegisteredPlayers(){var e;if(this.gameParams.players.length>0){this.aliases.removeAt(0),this.formValidation=[];const t=this.gameParams.players;for(let i=0;i<this.gameParams.numberOfPlayer;i++)(null===(e=t[i])||void 0===e?void 0:e.username)&&(this.aliases.push(this.fb.control(t[i].username)),this.formValidation.push({isSubmited:!0,isMinlength:!0}),this.btnValidation=!1)}}formValidationVerification(e){return 0===e.map(e=>Object.values(e).filter(e=>!1===e)).reduce((e,t)=>e.concat(t)).length&&e.length===this.gameParams.numberOfPlayer}get aliases(){return this.userForm.get("aliases")}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(s.K0),o.Y36(f.qu),o.Y36(a.t),o.Y36(l),o.Y36(c.c),o.Y36(b.g),o.Y36(x.s))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-players-name"]],decls:4,vars:2,consts:[[1,"playerName"],[3,"formGroup"],["formArrayName","aliases",1,"playerName_inputsWrapper"],["class","playerName_inputsSolo",4,"ngFor","ngForOf"],[1,"playerName_inputsSolo"],[1,"playerName_inputsComp"],[3,"size","isDisplayed"],["placeholder","Entre ton nom",3,"parentForm","parentControlName","width","validate","solo"],["type","submit",1,"playerName_submiter",3,"id","disabled","label","solo","confirmation","click"],["class","playerName_connect",4,"ngIf"],[1,"playerName_connect"],[3,"routerLink"],[1,"fas","fa-sign-in-alt"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"form",1),o.TgZ(2,"div",2),o.YNc(3,_,8,14,"div",3),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(1),o.Q6J("formGroup",t.userForm),o.xp6(2),o.Q6J("ngForOf",t.aliases.controls))},directives:[f._Y,f.JL,f.sg,f.CE,s.sg,y.q,v.H,d.m,s.O5,n.rH],styles:["[_ngcontent-%COMP%]:root{--game-size:400px}@media screen and (max-width: 800px){[_ngcontent-%COMP%]:root{--game-size:100%}}.playerName[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.playerName[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;margin:10px}.playerName_inputsSolo[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:10px}.playerName_inputsComp[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative}.playerName_connect[_ngcontent-%COMP%]{margin:0 10px}"]}),e})();var Z=i(1597),M=i(2340);function S(e,t){if(1&e&&o._UZ(0,"div",6),2&e){const e=o.oxw();o.Q6J("ngStyle",e.style)("@popIn",void 0)}}let T=(()=>{class e{constructor(e,t,i,s){this.setupServ=e,this.request=t,this.gameParams=i,this.router=s,this.userTheme=[{name:"default",images:[]}],this.themesName=[],this.choosenTheme="",this.userSelection="",this.validation$=new g.X(!1),this.validationSubscription=this.validation$.subscribe(),this.style={},this.addThemeButton=[],this.isLoading=!1}ngOnInit(){this.setupServ.setIndexInChildren(),this.getThemes(),this.checkValidation()}checkValidation(){this.validationSubscription=this.validation$.subscribe(e=>{e?(this.setupServ.displayPathButton(),this.setupServ.setDisableDots()):(this.setupServ.setDisableButtons([!1,!0]),this.setupServ.setDisableDots())})}ngOnDestroy(){this.validationSubscription.unsubscribe()}setSelection(){this.userSelection=this.choosenTheme;const e=this.userTheme.find(e=>e.name===this.userSelection);e&&this.gameParams.setTheme(e),this.validation$.next(!0)}onChange(){this.userSelection="",this.validation$.next(!1);const e=this.getCardBack(this.userTheme);this.style.backgroundImage=e?`url('${M.N.proxy+e}')`:""}getCardBack(e){const t=e.filter(e=>e.name===this.choosenTheme)[0].images.filter(e=>"cardBack"===e.type);return t[0]?t[0].path:""}getThemes(){this.isLoading=!0,this.request.get("themes/all").subscribe({next:e=>{this.isLoading=!1;const t=[...this.userTheme,...e];this.userTheme=t,t.forEach(e=>{this.themesName.push(e.name)}),this.getSavedValue()},error:e=>{this.userTheme.forEach(e=>{this.themesName.push(e.name)}),this.getSavedValue(),this.isLoading=!1}}),this.pushThemeButton()}pushThemeButton(){this.addThemeButton.push({label:"+ Ajouter un theme ",action:()=>{this.router.navigate(["user/profile/themes/post"])}})}getSavedValue(){const e=this.gameParams.selectedTheme.name?this.gameParams.selectedTheme.name:"";if(0!==this.userTheme.filter(t=>t.name===e).length){if(this.userSelection=e,this.choosenTheme=e,0!==Object.keys(this.gameParams.selectedTheme).length){const e=this.getCardBack([this.gameParams.selectedTheme]);this.style.backgroundImage=e?`url('${M.N.proxy+e}')`:""}e&&this.validation$.next(!0)}else this.validation$.next(!1)}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(l),o.Y36(x.s),o.Y36(a.t),o.Y36(n.F0))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-select-themes"]],decls:9,vars:9,consts:[[1,"selectThemes"],[1,"selectThemes_choice"],[3,"size","isDisplayed"],[3,"values","width","choice","buttons","choiceChange"],[3,"disabled","confirmation","click"],["class","selectThemes_preview",3,"ngStyle",4,"ngIf"],[1,"selectThemes_preview",3,"ngStyle"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"h2"),o._uU(2,"Choix du theme"),o.qZA(),o.TgZ(3,"div",1),o._UZ(4,"reg-spinner",2),o.TgZ(5,"reg-select",3),o.NdJ("choiceChange",function(e){return t.choosenTheme=e})("choiceChange",function(){return t.onChange()}),o.qZA(),o.TgZ(6,"reg-button",4),o.NdJ("click",function(){return t.setSelection()}),o._uU(7,"Selectionner"),o.qZA(),o.qZA(),o.YNc(8,S,1,2,"div",5),o.qZA()),2&e&&(o.xp6(4),o.Q6J("size",20)("isDisplayed",t.isLoading),o.xp6(1),o.Q6J("values",t.themesName)("width",200)("choice",t.choosenTheme)("buttons",t.addThemeButton),o.xp6(1),o.Q6J("disabled",!t.choosenTheme)("confirmation",!t.userSelection),o.xp6(2),o.Q6J("ngIf",t.choosenTheme&&t.style.backgroundImage))},directives:[y.q,h.X,d.m,s.O5,s.PC],styles:["[_ngcontent-%COMP%]:root{--game-size:400px}@media screen and (max-width: 800px){[_ngcontent-%COMP%]:root{--game-size:100%}}.selectThemes[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.selectThemes_choice[_ngcontent-%COMP%]{display:flex;position:relative}.selectThemes_choice[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:10px}.selectThemes_preview[_ngcontent-%COMP%]{display:flex;align-items:center;width:100px;height:100px;margin:10px;background-size:cover;border-radius:5px;box-shadow:2px 2px 0 0 #47bdb5}.selectThemes[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:10px}"],data:{animation:[Z.Yr]}}),e})();var w=i(9362);let I=(()=>{class e{constructor(){this.disabled=!1,this.selected=!1}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["dots"]],inputs:{disabled:"disabled",selected:"selected"},decls:1,vars:2,consts:[[1,"dots",3,"disabled","ngClass"]],template:function(e,t){1&e&&o._UZ(0,"button",0),2&e&&o.Q6J("disabled",t.disabled)("ngClass",t.selected?"dots_selected":"")},directives:[s.mk],styles:["[_ngcontent-%COMP%]:root{--game-size:400px}@media screen and (max-width: 800px){[_ngcontent-%COMP%]:root{--game-size:100%}}.dots[_ngcontent-%COMP%]{background-color:#4ecdc4;border-radius:50%;height:15px;width:15px;border:none;transition:.4s}.dots[_ngcontent-%COMP%]:enabled{box-shadow:0 0 0 0 #47bdb5;cursor:pointer}.dots[_ngcontent-%COMP%]:disabled{background-color:#e6f7e6}.dots[_ngcontent-%COMP%]:hover:enabled{box-shadow:0 0 0 0;background-color:#47bdb5}.dots[_ngcontent-%COMP%]:focus{outline:none}.dots_selected[_ngcontent-%COMP%]{background-color:#ffe66d}"]}),e})();function N(e,t){if(1&e&&(o.TgZ(0,"div"),o.TgZ(1,"p"),o._uU(2),o.qZA(),o.qZA()),2&e){const e=t.$implicit;o.xp6(2),o.Oqu(e.value)}}function A(e,t){if(1&e&&(o.ynx(0),o.YNc(1,N,3,1,"div",6),o.ALo(2,"keyvalue"),o.BQk()),2&e){const e=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",o.lcZ(2,1,e.messages))}}function q(e,t){if(1&e&&(o.ynx(0),o._UZ(1,"div",7),o.BQk()),2&e){const e=o.oxw(2);o.xp6(1),o.Q6J("ngStyle",e.imgMess)}}function D(e,t){if(1&e&&(o.TgZ(0,"div",1),o.TgZ(1,"div",2),o._UZ(2,"div",3),o.TgZ(3,"div",4),o.YNc(4,A,3,3,"ng-container",5),o.YNc(5,q,2,1,"ng-container",5),o.qZA(),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.Q6J("ngStyle",e.style)("@popIn",void 0),o.xp6(4),o.Q6J("ngIf","text"===e.type),o.xp6(1),o.Q6J("ngIf","image"===e.type)}}let k=(()=>{class e{constructor(){this.messages={},this.displayed=!1,this.width=0,this.type="text",this.image="",this.parentSize=0,this.style={},this.imgMess={}}ngOnInit(){}ngOnChanges(){this.style={width:this.width+"px",left:(this.width-this.parentSize)/2*-1+"px"},this.imgMess.backgroundImage=`url('${M.N.proxy+this.image}')`}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["info-pop"]],inputs:{messages:"messages",displayed:"displayed",width:"width",type:"type",image:"image",parentSize:"parentSize"},features:[o.TTD],decls:1,vars:1,consts:[["class","infoPop",3,"ngStyle",4,"ngIf"],[1,"infoPop",3,"ngStyle"],[1,"infoPop_container"],[1,"infoPop_triangle"],[1,"infoPop_wrapper"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"infoPop_imageMess",3,"ngStyle"]],template:function(e,t){1&e&&o.YNc(0,D,6,4,"div",0),2&e&&o.Q6J("ngIf",t.displayed)},directives:[s.O5,s.PC,s.sg],pipes:[s.Nd],styles:["[_ngcontent-%COMP%]:root{--game-size:400px}@media screen and (max-width: 800px){[_ngcontent-%COMP%]:root{--game-size:100%}}.infoPop[_ngcontent-%COMP%]{position:absolute;top:20px}.infoPop_container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.infoPop_triangle[_ngcontent-%COMP%]{display:inline-block;height:0;width:0;border-right:8px solid #0000;border-bottom:8px solid #ffe66d;border-left:8px solid #0000}.infoPop_wrapper[_ngcontent-%COMP%]{background-color:#ffe66d;border-radius:5px;box-shadow:2px 2px 0 0 #47bdb5;padding:10px}.infoPop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#47bdb5}"],data:{animation:[Z.Yr]}}),e})();function J(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"reg-button",9),o.NdJ("click",function(){const t=o.CHM(e).$implicit;return o.oxw().changeChildren(t)}),o.qZA(),o.qZA()}if(2&e){const e=t.$implicit,i=t.index,s=o.oxw();o.xp6(1),o.Q6J("disabled",s.setupServ.disableButtons[i])("label",e)("height",40)("width",100)}}function z(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",10),o.TgZ(1,"reg-button",11),o.NdJ("click",function(){return o.CHM(e),o.oxw().letsStart()}),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(1),o.Q6J("label","D\xe9marrer")("disabled",0===e.gameParams.selectedDifficulty)("width",300)("confirmation",!0)}}const Y=function(e){return{setupInfo:e}};function F(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",12),o.TgZ(1,"dots",13),o.NdJ("mousedown",function(){const t=o.CHM(e).index;return o.oxw().changeChildren("dot",t)})("mouseover",function(){const t=o.CHM(e).index;return o.oxw().setPopInfo(t)})("mouseout",function(){const t=o.CHM(e).index;return o.oxw().setPopInfo(t)}),o.qZA(),o._UZ(2,"info-pop",14),o.qZA()}if(2&e){const e=t.index,i=o.oxw();o.xp6(1),o.Q6J("disabled",i.setupServ.disableDots[e])("selected",i.setupServ.childIndex===e&&!0),o.xp6(1),o.Q6J("parentSize",15)("displayed",i.displayInfo[e])("messages",o.VKq(6,Y,i.infoName[e]))("width",200)}}const V=[{path:"",redirectTo:"players",pathMatch:"full"},{path:"",component:(()=>{class e{constructor(e,t,i,s,n,o){this.route=e,this.router=t,this.setupServ=i,this.regPopService=s,this.gameParams=n,this.cdref=o,this.buttons=["precedent","suivant"],this.setupRoutes=[],this.dots=[],this.displayModal=!1,this.displayInfo=[],this.infoName=[]}ngOnInit(){this.createIndexPages()}ngAfterContentChecked(){this.cdref.detectChanges()}prepareRoute(e){return e&&e.activatedRouteData&&e.activatedRouteData.animation}createIndexPages(){var e;if(!(null===(e=this.route.routeConfig)||void 0===e?void 0:e.children))return;const t=[...this.route.routeConfig.children];t.pop(),t.shift(),this.setupRoutes=t,this.setupServ.setRouteConfig(this.setupRoutes),this.setupServ.setDots();for(let i=0;i<this.setupRoutes.length;i++)this.displayInfo=[...this.displayInfo,!1],this.setInfoPopName(this.setupRoutes[i].path);this.dots=this.setupServ.disableDots}setInfoPopName(e){switch(e){case"players":this.infoName.push("Nombre de joueurs");break;case"names":this.infoName.push("Choix du nom");break;case"difficulty":this.infoName.push("Choix de la difficult\xe9");break;case"themes":this.infoName.push("Choix du theme")}}setPopInfo(e){this.displayInfo[e]=!this.displayInfo[e]}changeChildren(e,t){const i=this.setupServ.childIndex>0;"suivant"===e&&this.setupServ.childIndex<this.setupRoutes.length-1&&this.setupServ.setChildIndex(this.setupServ.childIndex+1),"precedent"===e&&i&&this.setupServ.setChildIndex(this.setupServ.childIndex-1),"dot"===e&&this.setupServ.setChildIndex(t);const{path:s}=this.setupRoutes[this.setupServ.childIndex];this.router.navigateByUrl("/setup/"+s)}letsStart(){this.router.navigate(["/game"])}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(n.gz),o.Y36(n.F0),o.Y36(l),o.Y36(w.L),o.Y36(a.t),o.Y36(o.sBO))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-setup"]],decls:13,vars:4,consts:[[1,"setup"],[1,"setup_title"],[1,"setup_children"],["outlet","outlet"],[1,"setup_nextprev"],[4,"ngFor","ngForOf"],["class","setup_start",4,"ngIf"],[1,"setup_dots"],["class","setup_dotsWrapper",4,"ngFor","ngForOf"],[3,"disabled","label","height","width","click"],[1,"setup_start"],[3,"label","disabled","width","confirmation","click"],[1,"setup_dotsWrapper"],[3,"disabled","selected","mousedown","mouseover","mouseout"],[3,"parentSize","displayed","messages","width"]],template:function(e,t){if(1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"h2"),o._uU(3,"Choisis tes preferences"),o.qZA(),o.qZA(),o.TgZ(4,"div",2),o.TgZ(5,"div"),o._UZ(6,"router-outlet",null,3),o.qZA(),o.qZA(),o.TgZ(8,"div",4),o.YNc(9,J,2,4,"div",5),o.qZA(),o.YNc(10,z,2,4,"div",6),o.TgZ(11,"div",7),o.YNc(12,F,3,8,"div",8),o.qZA(),o.qZA()),2&e){const e=o.MAs(7);o.xp6(5),o.Q6J("@routeAnimations",t.prepareRoute(e)),o.xp6(4),o.Q6J("ngForOf",t.buttons),o.xp6(1),o.Q6J("ngIf",t.setupServ.displayStartButton),o.xp6(2),o.Q6J("ngForOf",t.dots)}},directives:[n.lC,s.sg,s.O5,d.m,I,k],styles:["[_ngcontent-%COMP%]:root{--game-size:400px}@media screen and (max-width: 800px){[_ngcontent-%COMP%]:root{--game-size:100%}}.setup[_ngcontent-%COMP%]{display:flex;flex-direction:column}.setup[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:x-large}.setup_title[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.setup_title[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:10px}.setup_dots[_ngcontent-%COMP%]{display:flex;justify-content:center}.setup_dots[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:10px}.setup_dotsWrapper[_ngcontent-%COMP%]{position:relative}.setup_nextprev[_ngcontent-%COMP%]{display:flex;justify-content:center}.setup_nextprev[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:10px}.setup_start[_ngcontent-%COMP%]{display:flex;justify-content:center}.setup_start[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:10px}.setup_children[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;height:300px}"],data:{animation:[Z.JN]}}),e})(),canActivate:[r],data:{routeConfig:["players","names","themes","difficulty"]},children:[{path:"",redirectTo:"players",pathMatch:"full"},{path:"players",component:m,data:{animation:"Players"}},{path:"names",component:O,data:{animation:"Names"}},{path:"themes",component:T,data:{animation:"Themes"}},{path:"difficulty",component:u,data:{animation:"Diff"}},{path:"**",redirectTo:"players",pathMatch:"full"}]}];let B=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[n.Bz.forChild(V)],n.Bz]}),e})();var Q=i(6684);let U=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[s.ez,B,Q.m,f.u5,f.UX]]}),e})()}}]);