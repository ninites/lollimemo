(self.webpackChunkquizz=self.webpackChunkquizz||[]).push([[398],{3398:(e,i,t)=>{"use strict";t.r(i),t.d(i,{MyProfileModule:()=>b});var o=t(8583),n=t(5806),r=t(2170),s=t(1597),l=t(639),a=t(2481);function f(e,i){if(1&e&&(l.TgZ(0,"reg-button",5),l._uU(1),l.qZA()),2&e){const e=i.$implicit;l.Q6J("routerLink",e.href),l.xp6(1),l.Oqu(e.value)}}let d=(()=>{class e{constructor(){this.linkList=[{value:"Modifier mon profile",href:["/user/profile/my-profile"]},{value:"Modifier mon mot de passe",href:["/user/profile/my-profile/password"]}]}ngOnInit(){}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-modify-profile-landing"]],decls:6,vars:1,consts:[[1,"modifyProfileLanding"],[1,"modifyProfileLanding_nav"],[3,"routerLink",4,"ngFor","ngForOf"],[1,"root_rooterMain"],["outlet","outlet"],[3,"routerLink"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.YNc(2,f,2,2,"reg-button",2),l.qZA(),l.TgZ(3,"div",3),l._UZ(4,"router-outlet",null,4),l.qZA(),l.qZA()),2&e&&(l.xp6(2),l.Q6J("ngForOf",i.linkList))},directives:[o.sg,n.lC,a.m,n.rH],styles:["[_ngcontent-%COMP%]:root{--game-size:400px}@media screen and (max-width: 800px){[_ngcontent-%COMP%]:root{--game-size:100%}}.modifyProfileLanding[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.modifyProfileLanding_nav[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;width:90%}"],data:{animation:[s.al]}}),e})();var m=t(665),c=t(7764),u=t(1320),p=t(9573),g=t(568);function y(e,i){if(1&e&&(l.TgZ(0,"div",6),l.TgZ(1,"label"),l._uU(2),l.qZA(),l.TgZ(3,"div",3),l._UZ(4,"reg-spinner",4),l._UZ(5,"reg-input",7),l.qZA(),l.qZA()),2&e){const e=i.$implicit,t=i.index,o=l.oxw();l.xp6(1),l.uIk("for",e.key),l.xp6(1),l.Oqu(o.label[t]),l.xp6(2),l.Q6J("size",20)("isDisplayed",o.isLoading.get),l.xp6(1),l.Q6J("parentForm",o.modifyProfileForm)("parentControlName",e.key)("width",200),l.uIk("id",e.key)}}const h=[{path:"",component:d,children:[{path:"",component:(()=>{class e{constructor(e,i,t){this.fb=e,this.request=i,this.alert=t,this.modifyProfileForm=this.fb.group({username:["",[m.kI.required,m.kI.minLength(2)]],email:["",[m.kI.required,m.kI.email]]}),this.label=["Nom d'utilisateur","Email"],this.isLoading={put:!1,get:!0}}ngOnInit(){this.getUserInfo()}trackByFn(e,i){return e}unsorted(){return 0}onSubmit(){this.isLoading.put=!0,this.request.put("users",this.modifyProfileForm.value).subscribe({next:e=>{this.isLoading.put=!1,this.alert.message="Modification de votre compte correctement enregistr\xe9e",this.alert.switchAlert()},error:e=>{this.alert.message=e.error||"Un probleme \xe0 eu lieu lors de la modification",this.alert.switchAlert()}})}getUserInfo(){this.request.get("users/info").subscribe(e=>{const i=this.modifyProfileForm.value;for(const t in i)this.modifyProfileForm.patchValue({[t]:e[t]});this.isLoading.get=!1})}}return e.\u0275fac=function(i){return new(i||e)(l.Y36(m.qu),l.Y36(c.s),l.Y36(u.c))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-modify-profile"]],decls:9,vars:11,consts:[[1,"modifyProfile"],[3,"formGroup","submit"],["class","modifyProfile_formRepeat",4,"ngFor","ngForOf","ngForTrackBy"],[1,"modifyProfile_spinnerBox"],[3,"size","isDisplayed"],[3,"label","disabled","type"],[1,"modifyProfile_formRepeat"],[3,"parentForm","parentControlName","width"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"h2"),l._uU(2,"Modifier mes informations"),l.qZA(),l.TgZ(3,"form",1),l.NdJ("submit",function(){return i.onSubmit()}),l.YNc(4,y,6,8,"div",2),l.ALo(5,"keyvalue"),l.TgZ(6,"div",3),l._UZ(7,"reg-spinner",4),l._UZ(8,"reg-button",5),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(3),l.Q6J("formGroup",i.modifyProfileForm),l.xp6(1),l.Q6J("ngForOf",l.xi3(5,8,i.modifyProfileForm.value,i.unsorted))("ngForTrackBy",i.trackByFn),l.xp6(3),l.Q6J("size",20)("isDisplayed",i.isLoading.put),l.xp6(1),l.Q6J("label","Modifier")("disabled",!i.modifyProfileForm.valid)("type","submit"))},directives:[m._Y,m.JL,m.sg,o.sg,p.q,a.m,g.H],pipes:[o.Nd],styles:["[_ngcontent-%COMP%]:root{--game-size:400px}@media screen and (max-width: 800px){[_ngcontent-%COMP%]:root{--game-size:100%}}.modifyProfile[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.modifyProfile[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:10px}.modifyProfile_spinnerBox[_ngcontent-%COMP%]{position:relative;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.modifyProfile[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{background-color:#4bc0b8;border-radius:5px;padding:10px;display:flex;flex-direction:column;align-items:flex-sa}.modifyProfile[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:10px}"]}),e})()},{path:"password",component:r.A}]}];let P=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[n.Bz.forChild(h)],n.Bz]}),e})();var x=t(6684),_=t(9405);let b=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[o.ez,P,x.m,_.I]]}),e})()}}]);